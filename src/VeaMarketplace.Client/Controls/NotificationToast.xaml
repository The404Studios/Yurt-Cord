<UserControl x:Class="VeaMarketplace.Client.Controls.NotificationToast"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="350" MinHeight="70">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/Colors.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <Storyboard x:Key="SlideInAnimation">
                <DoubleAnimation Storyboard.TargetName="RootBorder"
                                 Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                 From="400" To="0"
                                 Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetName="RootBorder"
                                 Storyboard.TargetProperty="Opacity"
                                 From="0" To="1"
                                 Duration="0:0:0.3"/>
            </Storyboard>

            <Storyboard x:Key="SlideOutAnimation">
                <DoubleAnimation Storyboard.TargetName="RootBorder"
                                 Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                 From="0" To="400"
                                 Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseIn"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetName="RootBorder"
                                 Storyboard.TargetProperty="Opacity"
                                 From="1" To="0"
                                 Duration="0:0:0.3"/>
            </Storyboard>
        </ResourceDictionary>
    </UserControl.Resources>

    <Border x:Name="RootBorder"
            Background="{StaticResource SecondaryDarkBrush}"
            CornerRadius="8"
            Margin="8"
            RenderTransformOrigin="0.5,0.5">
        <Border.RenderTransform>
            <TranslateTransform X="400"/>
        </Border.RenderTransform>
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="4" Opacity="0.4" Color="Black"/>
        </Border.Effect>

        <Grid>
            <!-- Accent Bar at Left -->
            <Border x:Name="AccentBar"
                    Width="4"
                    Background="{StaticResource AccentBrush}"
                    CornerRadius="8,0,0,8"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Stretch"/>

            <!-- Content Grid -->
            <Grid Margin="20,16,16,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Icon -->
                <Border x:Name="IconBorder" Grid.Column="0"
                        Width="36" Height="36"
                        CornerRadius="18"
                        Background="{StaticResource AccentBrush}"
                        Margin="0,0,12,0"
                        VerticalAlignment="Center">
                    <TextBlock x:Name="IconText"
                               Text="&#xE8BD;"
                               FontFamily="Segoe MDL2 Assets"
                               FontSize="18"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>

                <!-- Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="TitleText"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               TextTrimming="CharacterEllipsis"/>
                    <TextBlock x:Name="MessageText"
                               FontSize="12"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               TextWrapping="Wrap"
                               MaxHeight="40"
                               Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Close Button -->
                <Button x:Name="CloseButton" Grid.Column="2"
                        Width="24" Height="24"
                        Background="Transparent"
                        BorderThickness="0"
                        Cursor="Hand"
                        VerticalAlignment="Top"
                        Click="CloseButton_Click">
                    <TextBlock Text="&#xE711;"
                               FontFamily="Segoe MDL2 Assets"
                               FontSize="12"
                               Foreground="{StaticResource TextMutedBrush}"/>
                </Button>
            </Grid>
        </Grid>
    </Border>
</UserControl>
