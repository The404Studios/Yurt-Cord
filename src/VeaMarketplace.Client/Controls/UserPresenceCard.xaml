<UserControl x:Class="VeaMarketplace.Client.Controls.UserPresenceCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border x:Name="RootBorder" Background="{StaticResource SecondaryDarkBrush}"
            CornerRadius="8" Padding="12" Visibility="Collapsed">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Activity Icon/Image -->
            <Border Grid.Column="0" Width="60" Height="60" CornerRadius="8"
                    Margin="0,0,12,0" Background="{StaticResource TertiaryDarkBrush}">
                <Grid>
                    <!-- Game/App Image -->
                    <Image x:Name="ActivityImage" Stretch="UniformToFill"/>

                    <!-- Activity Type Icon (fallback) -->
                    <TextBlock x:Name="ActivityIcon" FontSize="28"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>

                    <!-- Small badge for activity type -->
                    <Border x:Name="ActivityBadge" Width="20" Height="20"
                            CornerRadius="10" Background="{StaticResource AccentBrush}"
                            HorizontalAlignment="Right" VerticalAlignment="Bottom"
                            Margin="0,0,-4,-4" Visibility="Collapsed">
                        <TextBlock x:Name="ActivityBadgeIcon" FontSize="10"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </Grid>
            </Border>

            <!-- Activity Info -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <!-- Activity Type Label -->
                <TextBlock x:Name="ActivityTypeText" FontSize="10" FontWeight="Bold"
                           Foreground="{StaticResource TextMutedBrush}"
                           Margin="0,0,0,2"/>

                <!-- Activity Name (e.g., Game name, Song name) -->
                <TextBlock x:Name="ActivityNameText" FontSize="14" FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimaryBrush}"
                           TextTrimming="CharacterEllipsis"/>

                <!-- Activity Details (e.g., "In Menu", "Artist Name") -->
                <TextBlock x:Name="ActivityDetailsText" FontSize="12"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           TextTrimming="CharacterEllipsis" Margin="0,2,0,0"/>

                <!-- Activity State/Timestamp (e.g., "for 2 hours") -->
                <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                    <TextBlock x:Name="ActivityStateText" FontSize="11"
                               Foreground="{StaticResource TextMutedBrush}"/>

                    <!-- Progress bar for music/video -->
                    <ProgressBar x:Name="ActivityProgress" Width="80" Height="4"
                                 Margin="8,0,0,0" Visibility="Collapsed"
                                 Background="{StaticResource TertiaryDarkBrush}"
                                 Foreground="{StaticResource AccentBrush}"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
