<UserControl x:Class="VeaMarketplace.Client.Controls.ReactionPicker"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border Background="{StaticResource SecondaryDarkBrush}"
            CornerRadius="8"
            Effect="{StaticResource PopupShadow}"
            Padding="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Quick Reactions -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
                <Button Style="{StaticResource EmojiButton}" Content="ðŸ‘" Click="QuickReaction_Click" ToolTip="Thumbs Up"/>
                <Button Style="{StaticResource EmojiButton}" Content="â¤ï¸" Click="QuickReaction_Click" ToolTip="Heart"/>
                <Button Style="{StaticResource EmojiButton}" Content="ðŸ˜‚" Click="QuickReaction_Click" ToolTip="Laugh"/>
                <Button Style="{StaticResource EmojiButton}" Content="ðŸ˜®" Click="QuickReaction_Click" ToolTip="Surprised"/>
                <Button Style="{StaticResource EmojiButton}" Content="ðŸ˜¢" Click="QuickReaction_Click" ToolTip="Sad"/>
                <Button Style="{StaticResource EmojiButton}" Content="ðŸ”¥" Click="QuickReaction_Click" ToolTip="Fire"/>
            </StackPanel>

            <!-- Search Box -->
            <Border Grid.Row="1" Background="{StaticResource TertiaryDarkBrush}"
                    CornerRadius="4" Padding="8,6" Margin="0,0,0,8">
                <Grid>
                    <TextBlock x:Name="SearchPlaceholder" Text="Search emoji..."
                               Foreground="{StaticResource TextMutedBrush}"
                               FontSize="12" VerticalAlignment="Center"
                               IsHitTestVisible="False"/>
                    <TextBox x:Name="SearchBox" Background="Transparent"
                             BorderThickness="0" FontSize="12"
                             Foreground="{StaticResource TextPrimaryBrush}"
                             TextChanged="SearchBox_TextChanged"/>
                </Grid>
            </Border>

            <!-- Emoji Categories -->
            <ScrollViewer Grid.Row="2" MaxHeight="200" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Recently Used -->
                    <StackPanel x:Name="RecentSection">
                        <TextBlock Text="Recently Used" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="RecentEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- Smileys -->
                    <StackPanel Margin="0,8,0,0">
                        <TextBlock Text="Smileys &amp; People" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="SmileysEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- Nature -->
                    <StackPanel Margin="0,8,0,0">
                        <TextBlock Text="Animals &amp; Nature" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="NatureEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- Food -->
                    <StackPanel Margin="0,8,0,0">
                        <TextBlock Text="Food &amp; Drink" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="FoodEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- Objects -->
                    <StackPanel Margin="0,8,0,0">
                        <TextBlock Text="Objects" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="ObjectsEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- Symbols -->
                    <StackPanel Margin="0,8,0,0">
                        <TextBlock Text="Symbols" FontSize="10" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,4"/>
                        <ItemsControl x:Name="SymbolsEmojis">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Style="{StaticResource EmojiButton}"
                                            Content="{Binding}" Click="Emoji_Click"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Border>
</UserControl>
