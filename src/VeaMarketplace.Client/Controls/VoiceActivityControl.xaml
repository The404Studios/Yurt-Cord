<UserControl x:Class="VeaMarketplace.Client.Controls.VoiceActivityControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="48" Height="48">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/Colors.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <!-- Avatar -->
        <Ellipse x:Name="AvatarEllipse" Width="40" Height="40">
            <Ellipse.Fill>
                <ImageBrush x:Name="AvatarBrush" Stretch="UniformToFill"/>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Voice Activity Ring (White indicator when speaking) -->
        <Ellipse x:Name="VoiceRing" Width="46" Height="46"
                 Stroke="White"
                 StrokeThickness="3"
                 Visibility="Collapsed"
                 RenderTransformOrigin="0.5,0.5">
            <Ellipse.RenderTransform>
                <ScaleTransform x:Name="RingScale" ScaleX="1" ScaleY="1"/>
            </Ellipse.RenderTransform>
        </Ellipse>

        <!-- Audio Level Visualization -->
        <Canvas x:Name="AudioVisualizerCanvas" Width="48" Height="48"
                Visibility="Collapsed">
            <!-- Audio bars will be added programmatically -->
        </Canvas>
    </Grid>
</UserControl>
