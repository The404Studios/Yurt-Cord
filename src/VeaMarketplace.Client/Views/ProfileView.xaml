<UserControl x:Class="VeaMarketplace.Client.Views.ProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{StaticResource TertiaryDarkBrush}">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Styles/Colors.xaml"/>
                <ResourceDictionary Source="../Styles/Buttons.xaml"/>
                <ResourceDictionary Source="../Styles/Controls.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <!-- Banner -->
        <Border x:Name="BannerBorder" Height="200" VerticalAlignment="Top">
            <Border.Background>
                <ImageBrush x:Name="BannerBrush" Stretch="UniformToFill">
                    <ImageBrush.ImageSource>
                        <DrawingImage>
                            <DrawingImage.Drawing>
                                <GeometryDrawing>
                                    <GeometryDrawing.Brush>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#5865F2" Offset="0"/>
                                            <GradientStop Color="#EB459E" Offset="1"/>
                                        </LinearGradientBrush>
                                    </GeometryDrawing.Brush>
                                    <GeometryDrawing.Geometry>
                                        <RectangleGeometry Rect="0,0,1,1"/>
                                    </GeometryDrawing.Geometry>
                                </GeometryDrawing>
                            </DrawingImage.Drawing>
                        </DrawingImage>
                    </ImageBrush.ImageSource>
                </ImageBrush>
            </Border.Background>
        </Border>

        <!-- Content -->
        <ScrollViewer Margin="0,100,0,0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Profile Card -->
                <Border Background="{StaticResource SecondaryDarkBrush}"
                        CornerRadius="8" Margin="24,0" Padding="24">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Avatar -->
                        <Grid Grid.Column="0" Margin="0,0,24,0">
                            <Ellipse Width="120" Height="120"
                                     Stroke="{StaticResource SecondaryDarkBrush}"
                                     StrokeThickness="6">
                                <Ellipse.Fill>
                                    <ImageBrush x:Name="AvatarBrush" Stretch="UniformToFill"/>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Online Status -->
                            <Ellipse Width="24" Height="24"
                                     Fill="{StaticResource AccentGreenBrush}"
                                     Stroke="{StaticResource SecondaryDarkBrush}"
                                     StrokeThickness="4"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Bottom"
                                     Margin="0,0,8,8"/>
                        </Grid>

                        <!-- User Info -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock x:Name="UsernameText" FontSize="28" FontWeight="Bold"
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                                <Border x:Name="RoleBadge" CornerRadius="4"
                                        Padding="8,4" Margin="12,0,0,0"
                                        VerticalAlignment="Center">
                                    <TextBlock x:Name="RoleBadgeText" FontSize="12" FontWeight="Bold"
                                               Foreground="White"/>
                                </Border>
                                <Border x:Name="RankBadge" CornerRadius="4"
                                        Padding="8,4" Margin="8,0,0,0"
                                        VerticalAlignment="Center">
                                    <TextBlock x:Name="RankBadgeText" FontSize="12" FontWeight="Bold"
                                               Foreground="White"/>
                                </Border>
                            </StackPanel>

                            <TextBlock x:Name="BioText" FontSize="14"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       Margin="0,8,0,0" TextWrapping="Wrap"/>

                            <TextBlock x:Name="JoinedText" FontSize="12"
                                       Foreground="{StaticResource TextMutedBrush}"
                                       Margin="0,12,0,0"/>
                        </StackPanel>

                        <!-- Edit Button -->
                        <Button Grid.Column="2" Content="Edit Profile"
                                Style="{StaticResource SecondaryButton}"
                                VerticalAlignment="Top"
                                Click="EditProfile_Click"/>
                    </Grid>
                </Border>

                <!-- Stats Cards -->
                <Grid Margin="24,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Balance -->
                    <Border Grid.Column="0" Background="{StaticResource SecondaryDarkBrush}"
                            CornerRadius="8" Padding="20" Margin="0,0,8,0">
                        <StackPanel>
                            <TextBlock Text="ðŸ’° Balance" FontSize="12"
                                       Foreground="{StaticResource TextMutedBrush}"/>
                            <TextBlock x:Name="BalanceText" FontSize="24" FontWeight="Bold"
                                       Foreground="{StaticResource AccentGreenBrush}"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Reputation -->
                    <Border Grid.Column="1" Background="{StaticResource SecondaryDarkBrush}"
                            CornerRadius="8" Padding="20" Margin="8,0">
                        <StackPanel>
                            <TextBlock Text="â­ Reputation" FontSize="12"
                                       Foreground="{StaticResource TextMutedBrush}"/>
                            <TextBlock x:Name="ReputationText" FontSize="24" FontWeight="Bold"
                                       Foreground="{StaticResource AccentYellowBrush}"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Sales -->
                    <Border Grid.Column="2" Background="{StaticResource SecondaryDarkBrush}"
                            CornerRadius="8" Padding="20" Margin="8,0">
                        <StackPanel>
                            <TextBlock Text="ðŸ“ˆ Sales" FontSize="12"
                                       Foreground="{StaticResource TextMutedBrush}"/>
                            <TextBlock x:Name="SalesText" FontSize="24" FontWeight="Bold"
                                       Foreground="{StaticResource AccentCyanBrush}"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Purchases -->
                    <Border Grid.Column="3" Background="{StaticResource SecondaryDarkBrush}"
                            CornerRadius="8" Padding="20" Margin="8,0,0,0">
                        <StackPanel>
                            <TextBlock Text="ðŸ›’ Purchases" FontSize="12"
                                       Foreground="{StaticResource TextMutedBrush}"/>
                            <TextBlock x:Name="PurchasesText" FontSize="24" FontWeight="Bold"
                                       Foreground="{StaticResource AccentPinkBrush}"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- About Me Section -->
                <Border Background="{StaticResource SecondaryDarkBrush}"
                        CornerRadius="8" Margin="24,0" Padding="24">
                    <StackPanel>
                        <TextBlock Text="ABOUT ME" FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,12"/>
                        <TextBlock x:Name="DescriptionText" FontSize="14"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>

                <!-- Custom Roles Section -->
                <Border Background="{StaticResource SecondaryDarkBrush}"
                        CornerRadius="8" Margin="24,16,24,0" Padding="24">
                    <StackPanel>
                        <TextBlock Text="ROLES" FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,12"/>
                        <WrapPanel x:Name="RolesPanel"/>
                    </StackPanel>
                </Border>

                <!-- Badges Section -->
                <Border Background="{StaticResource SecondaryDarkBrush}"
                        CornerRadius="8" Margin="24,16,24,0" Padding="24">
                    <StackPanel>
                        <TextBlock Text="BADGES" FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,16"/>
                        <WrapPanel x:Name="BadgesPanel">
                            <Border Background="{StaticResource QuaternaryDarkBrush}"
                                    CornerRadius="8" Padding="16,12" Margin="0,0,8,8">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="ðŸŽ‰" FontSize="20" Margin="0,0,8,0"/>
                                    <TextBlock Text="Early Adopter"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            <Border Background="{StaticResource QuaternaryDarkBrush}"
                                    CornerRadius="8" Padding="16,12" Margin="0,0,8,8">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="âœ…" FontSize="20" Margin="0,0,8,0"/>
                                    <TextBlock Text="Verified Seller"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </WrapPanel>
                    </StackPanel>
                </Border>

                <!-- Payment Methods -->
                <Border Background="{StaticResource SecondaryDarkBrush}"
                        CornerRadius="8" Margin="24,16,24,24" Padding="24">
                    <StackPanel>
                        <TextBlock Text="PAYMENT METHODS" FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,0,0,16"/>
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource SecondaryButton}" Margin="0,0,8,0">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="ðŸ’³" FontSize="16" Margin="0,0,8,0"/>
                                    <TextBlock Text="Add PayPal"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource SecondaryButton}">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="â‚¿" FontSize="16" Margin="0,0,8,0"/>
                                    <TextBlock Text="Add Bitcoin"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
