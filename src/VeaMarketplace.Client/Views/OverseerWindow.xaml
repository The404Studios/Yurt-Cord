<Window x:Class="VeaMarketplace.Client.Views.OverseerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:VeaMarketplace.Client.Views"
        xmlns:controls="clr-namespace:VeaMarketplace.Client.Controls"
        Title="Yurt Cord"
        Height="900" Width="1400"
        MinHeight="700" MinWidth="1100"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>

        <!-- Animated Gradient for Border -->
        <Storyboard x:Key="BorderGlowAnimation" RepeatBehavior="Forever">
            <ColorAnimation Storyboard.TargetName="BorderGradient1"
                           Storyboard.TargetProperty="Color"
                           From="#00B4D8" To="#48CAE4" Duration="0:0:4"/>
            <ColorAnimation Storyboard.TargetName="BorderGradient2"
                           Storyboard.TargetProperty="Color"
                           From="#48CAE4" To="#0096B8" Duration="0:0:4"/>
            <ColorAnimation Storyboard.TargetName="BorderGradient3"
                           Storyboard.TargetProperty="Color"
                           From="#0096B8" To="#00B4D8" Duration="0:0:4"/>
        </Storyboard>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource BorderGlowAnimation}"/>
        </EventTrigger>
    </Window.Triggers>

    <!-- Main Circular Container -->
    <Grid>
        <!-- Outer Glow Effect -->
        <Ellipse Margin="-20" Opacity="0.2">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#00B4D8" Offset="0.8"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Main Window Border with Animated Gradient -->
        <Border CornerRadius="50" BorderThickness="3" ClipToBounds="True">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop x:Name="BorderGradient1" Color="#00B4D8" Offset="0"/>
                    <GradientStop x:Name="BorderGradient2" Color="#48CAE4" Offset="0.5"/>
                    <GradientStop x:Name="BorderGradient3" Color="#0096B8" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.Effect>
                <DropShadowEffect Color="#00B4D8" BlurRadius="25" ShadowDepth="0" Opacity="0.4"/>
            </Border.Effect>
            <Border.Background>
                <SolidColorBrush Color="#050510"/>
            </Border.Background>

            <Grid>
                <!-- Matrix Background Control -->
                <controls:MatrixBackground x:Name="MatrixBg" Opacity="0.4"/>

                <!-- Dark Overlay for readability -->
                <Border CornerRadius="47">
                    <Border.Background>
                        <RadialGradientBrush>
                            <GradientStop Color="#80050510" Offset="0"/>
                            <GradientStop Color="#E0050510" Offset="1"/>
                        </RadialGradientBrush>
                    </Border.Background>
                </Border>

                <!-- Login View -->
                <views:LoginView x:Name="LoginView" Visibility="Visible"/>

                <!-- Profile Setup View -->
                <views:ProfileSetupView x:Name="ProfileSetupView" Visibility="Collapsed"/>

                <!-- Main App Content -->
                <Grid x:Name="MainAppGrid" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <!-- Title Bar -->
                        <RowDefinition Height="50"/>
                        <!-- Main Content -->
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Custom Circular Title Bar -->
                    <Border Grid.Row="0" CornerRadius="47,47,0,0"
                            MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#15101020" Offset="0"/>
                                <GradientStop Color="#30101020" Offset="0.5"/>
                                <GradientStop Color="#15101020" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid Margin="20,0">
                            <!-- Logo and Title -->
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                <!-- Animated Logo -->
                                <Border Width="36" Height="36" CornerRadius="18" Margin="0,0,12,0">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#00B4D8" Offset="0"/>
                                            <GradientStop Color="#48CAE4" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Border.Effect>
                                        <DropShadowEffect Color="#00B4D8" BlurRadius="12" ShadowDepth="0" Opacity="0.5"/>
                                    </Border.Effect>
                                    <TextBlock Text="â—‰" FontSize="20" FontWeight="Bold"
                                               Foreground="#050510"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="YURT CORD" FontWeight="Bold" FontSize="18"
                                           VerticalAlignment="Center">
                                    <TextBlock.Foreground>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#00B4D8" Offset="0"/>
                                            <GradientStop Color="#48CAE4" Offset="1"/>
                                        </LinearGradientBrush>
                                    </TextBlock.Foreground>
                                    <TextBlock.Effect>
                                        <DropShadowEffect Color="#00B4D8" BlurRadius="8" ShadowDepth="0" Opacity="0.4"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </StackPanel>

                            <!-- Window Controls -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                <!-- Notifications -->
                                <Button x:Name="NotificationsButton" Style="{StaticResource OverseerCircleButton}"
                                        Width="40" Height="40" Margin="4,0"
                                        ToolTip="Notifications" Click="NotificationsButton_Click">
                                    <Grid>
                                        <TextBlock Text="ðŸ””" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <Border x:Name="NotificationBadge" Background="#FF4444"
                                                CornerRadius="8" Width="16" Height="16"
                                                HorizontalAlignment="Right" VerticalAlignment="Top"
                                                Margin="0,-4,-4,0" Visibility="Collapsed">
                                            <TextBlock x:Name="NotificationCount" Text="0" FontSize="9" FontWeight="Bold"
                                                       Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </Grid>
                                </Button>

                                <!-- Cart -->
                                <Button x:Name="CartButton" Style="{StaticResource OverseerCircleButton}"
                                        Width="40" Height="40" Margin="4,0"
                                        ToolTip="Cart" Click="CartButton_Click">
                                    <Grid>
                                        <TextBlock Text="ðŸ›’" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <Border x:Name="CartBadge" Background="#00B4D8"
                                                CornerRadius="8" Width="16" Height="16"
                                                HorizontalAlignment="Right" VerticalAlignment="Top"
                                                Margin="0,-4,-4,0" Visibility="Collapsed">
                                            <TextBlock x:Name="CartCount" Text="0" FontSize="9" FontWeight="Bold"
                                                       Foreground="#050510" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </Grid>
                                </Button>

                                <Rectangle Width="1" Height="24" Margin="12,0">
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="Transparent" Offset="0"/>
                                            <GradientStop Color="#00B4D8" Offset="0.5"/>
                                            <GradientStop Color="Transparent" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>

                                <!-- Window Buttons -->
                                <Button Content="â”€" Width="40" Height="40"
                                        Style="{StaticResource OverseerCircleButton}"
                                        Click="MinimizeButton_Click" Margin="4,0"/>
                                <Button Content="â–¡" Width="40" Height="40"
                                        Style="{StaticResource OverseerCircleButton}"
                                        Click="MaximizeButton_Click" Margin="4,0"/>
                                <Button Content="âœ•" Width="40" Height="40"
                                        Style="{StaticResource OverseerCircleButton}"
                                        BorderBrush="#FF4444" Foreground="#FF4444"
                                        Click="CloseButton_Click" Margin="4,0,0,0"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Main Content Area -->
                    <Grid Grid.Row="1" Margin="8,0,8,8">
                        <Grid.ColumnDefinitions>
                            <!-- Circular Navigation Orb Panel -->
                            <ColumnDefinition Width="80"/>
                            <!-- Channel/Sidebar Panel -->
                            <ColumnDefinition Width="260"/>
                            <!-- Main Content -->
                            <ColumnDefinition Width="*"/>
                            <!-- Member Panel -->
                            <ColumnDefinition Width="260"/>
                        </Grid.ColumnDefinitions>

                        <!-- Navigation Orb Panel -->
                        <Border Grid.Column="0" Margin="4" Style="{StaticResource OverseerPanel}">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                <StackPanel VerticalAlignment="Top" HorizontalAlignment="Center">
                                    <!-- Home Orb -->
                                    <Button Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,8"
                                            Click="HomeButton_Click" ToolTip="Home">
                                        <TextBlock Text="ðŸ " FontSize="24"/>
                                    </Button>

                                    <!-- Separator -->
                                    <Ellipse Width="40" Height="2" Margin="0,4">
                                        <Ellipse.Fill>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                <GradientStop Color="Transparent" Offset="0"/>
                                                <GradientStop Color="#00B4D8" Offset="0.5"/>
                                                <GradientStop Color="Transparent" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>

                                    <!-- Chat Orb -->
                                    <Button x:Name="ChatButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="ChatButton_Click" ToolTip="Chat">
                                        <TextBlock Text="ðŸ’¬" FontSize="22"/>
                                    </Button>

                                    <!-- Marketplace Orb -->
                                    <Button x:Name="MarketButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="MarketplaceButton_Click" ToolTip="Marketplace">
                                        <TextBlock Text="ðŸ›ï¸" FontSize="22"/>
                                    </Button>

                                    <!-- Discover Orb -->
                                    <Button x:Name="DiscoverButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="DiscoverButton_Click" ToolTip="Discover">
                                        <TextBlock Text="ðŸ”" FontSize="22"/>
                                    </Button>

                                    <!-- Activity Orb -->
                                    <Button x:Name="ActivityButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="ActivityFeedButton_Click" ToolTip="Activity">
                                        <TextBlock Text="âš¡" FontSize="22"/>
                                    </Button>

                                    <!-- Profile Orb -->
                                    <Button x:Name="ProfileButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="ProfileButton_Click" ToolTip="Profile">
                                        <TextBlock Text="ðŸ‘¤" FontSize="22"/>
                                    </Button>

                                    <!-- Friends Orb -->
                                    <Button x:Name="FriendsButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            Click="FriendsButton_Click" ToolTip="Friends">
                                        <TextBlock Text="ðŸ‘¥" FontSize="22"/>
                                    </Button>

                                    <!-- Settings Orb -->
                                    <Button x:Name="SettingsButtonOrb" Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            BorderBrush="{StaticResource OverseerSecondaryBrush}"
                                            Click="SettingsButton_Click" ToolTip="Settings">
                                        <TextBlock Text="âš™ï¸" FontSize="22"/>
                                    </Button>

                                    <!-- Add Server Orb -->
                                    <Button Style="{StaticResource OverseerCircleButton}"
                                            Width="56" Height="56" Margin="0,6"
                                            BorderBrush="{StaticResource OverseerAccentBrush}"
                                            Foreground="{StaticResource OverseerAccentBrush}"
                                            ToolTip="Add Server">
                                        <TextBlock Text="+" FontSize="28" Margin="0,-2,0,0"/>
                                    </Button>
                                </StackPanel>
                            </ScrollViewer>
                        </Border>

                        <!-- Channel/Sidebar Panel -->
                        <Border Grid.Column="1" Margin="4" Style="{StaticResource OverseerPanel}">
                            <views:ChannelSidebar x:Name="ChannelSidebar"/>
                        </Border>

                        <!-- Main Content Panel -->
                        <Border Grid.Column="2" Margin="4" Style="{StaticResource OverseerPanel}">
                            <Grid>
                                <views:ChatView x:Name="ChatViewControl" Visibility="Visible"/>
                                <views:MarketplaceView x:Name="MarketplaceViewControl" Visibility="Collapsed"/>
                                <views:ProfileView x:Name="ProfileViewControl" Visibility="Collapsed"/>
                                <views:SettingsView x:Name="SettingsViewControl" Visibility="Collapsed"/>
                                <views:FriendsView x:Name="FriendsViewControl" Visibility="Collapsed"/>
                                <views:VoiceCallDashboard x:Name="VoiceCallDashboardControl" Visibility="Collapsed"/>
                                <views:GroupCallView x:Name="GroupCallViewControl" Visibility="Collapsed"/>
                                <views:CartView x:Name="CartViewControl" Visibility="Collapsed"/>
                                <views:WishlistView x:Name="WishlistViewControl" Visibility="Collapsed"/>
                                <views:OrderHistoryView x:Name="OrderHistoryViewControl" Visibility="Collapsed"/>
                                <views:NotificationCenterView x:Name="NotificationCenterViewControl" Visibility="Collapsed"/>
                                <views:ModerationPanelView x:Name="ModerationPanelViewControl" Visibility="Collapsed"/>
                                <views:ServerBrowserView x:Name="ServerBrowserViewControl" Visibility="Collapsed"/>
                                <views:ActivityFeedView x:Name="ActivityFeedViewControl" Visibility="Collapsed"/>
                                <views:BlockedUsersView x:Name="BlockedUsersViewControl" Visibility="Collapsed"/>
                                <views:PrivacySettingsView x:Name="PrivacySettingsViewControl" Visibility="Collapsed"/>
                                <views:DiscoverView x:Name="DiscoverViewControl" Visibility="Collapsed"/>
                                <views:LeaderboardView x:Name="LeaderboardViewControl" Visibility="Collapsed"/>
                            </Grid>
                        </Border>

                        <!-- Member Panel -->
                        <Border Grid.Column="3" Margin="4" Style="{StaticResource OverseerPanel}">
                            <views:MemberSidebar x:Name="MemberSidebar"/>
                        </Border>
                    </Grid>
                </Grid>

                <!-- Toast Notification Container -->
                <StackPanel x:Name="ToastContainer"
                            HorizontalAlignment="Right" VerticalAlignment="Top"
                            Margin="0,70,20,0" Width="350"/>

                <!-- Social Activity Panel Overlay -->
                <Border x:Name="ActivityPanelOverlay"
                        Visibility="Collapsed"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Stretch"
                        Margin="0,60,280,20"
                        Style="{StaticResource OverseerPanel}">
                    <controls:SocialActivityPanel x:Name="SocialActivityPanelControl"
                                                   StartGroupCallRequested="SocialActivity_StartGroupCall"
                                                   CreateGroupChatRequested="SocialActivity_CreateGroupChat"
                                                   ShareStatusRequested="SocialActivity_ShareStatus"
                                                   FindFriendsRequested="SocialActivity_FindFriends"
                                                   OnlineFriendClicked="SocialActivity_OnlineFriendClicked"/>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Window>
