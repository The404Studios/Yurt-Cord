<Window x:Class="VeaMarketplace.Client.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:VeaMarketplace.Client.Views;assembly=YurtCord"
        Title="Yurt Cord"
        Height="800" Width="1280"
        MinHeight="600" MinWidth="900"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <Border Background="{StaticResource TertiaryDarkBrush}" CornerRadius="8">
        <Grid>
            <!-- Login View -->
            <views:LoginView x:Name="LoginView" Visibility="Visible"/>

            <!-- Main App View -->
            <Grid x:Name="MainAppGrid" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <!-- Server List -->
                    <ColumnDefinition Width="72"/>
                    <!-- Channel List -->
                    <ColumnDefinition Width="240"/>
                    <!-- Main Content -->
                    <ColumnDefinition Width="*"/>
                    <!-- Member List -->
                    <ColumnDefinition Width="240"/>
                </Grid.ColumnDefinitions>

                <!-- Custom Title Bar -->
                <Border Grid.ColumnSpan="4" Height="32" VerticalAlignment="Top"
                        Background="{StaticResource PrimaryDarkBrush}"
                        MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                    <Grid>
                        <TextBlock Text="YURT CORD" FontWeight="Bold" FontSize="12"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   VerticalAlignment="Center" Margin="80,0,0,0"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="â”€" Width="46" Height="32"
                                    Style="{StaticResource IconButton}"
                                    Click="MinimizeButton_Click"/>
                            <Button Content="â–¡" Width="46" Height="32"
                                    Style="{StaticResource IconButton}"
                                    Click="MaximizeButton_Click"/>
                            <Button Content="âœ•" Width="46" Height="32"
                                    Style="{StaticResource IconButton}"
                                    Click="CloseButton_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Server Sidebar (Dark) -->
                <Border Grid.Column="0" Background="{StaticResource PrimaryDarkBrush}"
                        Margin="0,32,0,0">
                    <StackPanel Margin="0,12">
                        <!-- Home Button -->
                        <Button Style="{StaticResource IconButton}" Width="48" Height="48"
                                Margin="0,0,0,8" Click="HomeButton_Click">
                            <Border Background="{StaticResource AccentBrush}" CornerRadius="16"
                                    Width="48" Height="48">
                                <TextBlock Text="ðŸ " FontSize="24"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Button>

                        <Separator Background="{StaticResource QuaternaryDarkBrush}"
                                   Margin="16,4" Height="2"/>

                        <!-- Chat Button -->
                        <Button Style="{StaticResource IconButton}" Width="48" Height="48"
                                Margin="0,8,0,0" ToolTip="Chat" Click="ChatButton_Click">
                            <Border x:Name="ChatButtonBorder" Background="{StaticResource SecondaryDarkBrush}"
                                    CornerRadius="24" Width="48" Height="48">
                                <TextBlock Text="ðŸ’¬" FontSize="22"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Button>

                        <!-- Marketplace Button -->
                        <Button Style="{StaticResource IconButton}" Width="48" Height="48"
                                Margin="0,8,0,0" ToolTip="Marketplace" Click="MarketplaceButton_Click">
                            <Border x:Name="MarketButtonBorder" Background="{StaticResource SecondaryDarkBrush}"
                                    CornerRadius="24" Width="48" Height="48">
                                <TextBlock Text="ðŸ›’" FontSize="22"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Button>

                        <!-- Profile Button -->
                        <Button Style="{StaticResource IconButton}" Width="48" Height="48"
                                Margin="0,8,0,0" ToolTip="Profile" Click="ProfileButton_Click">
                            <Border x:Name="ProfileButtonBorder" Background="{StaticResource SecondaryDarkBrush}"
                                    CornerRadius="24" Width="48" Height="48">
                                <TextBlock Text="ðŸ‘¤" FontSize="22"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Button>

                        <!-- Add Server Button -->
                        <Button Style="{StaticResource IconButton}" Width="48" Height="48"
                                Margin="0,8,0,0" ToolTip="Add Server">
                            <Border Background="Transparent" CornerRadius="24"
                                    BorderBrush="{StaticResource AccentGreenBrush}" BorderThickness="2"
                                    Width="48" Height="48">
                                <TextBlock Text="+" FontSize="28" Foreground="{StaticResource AccentGreenBrush}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-4,0,0"/>
                            </Border>
                        </Button>
                    </StackPanel>
                </Border>

                <!-- Channel Sidebar -->
                <Border Grid.Column="1" Background="{StaticResource SecondaryDarkBrush}"
                        Margin="0,32,0,0">
                    <views:ChannelSidebar x:Name="ChannelSidebar"/>
                </Border>

                <!-- Main Content Area -->
                <Border Grid.Column="2" Background="{StaticResource TertiaryDarkBrush}"
                        Margin="0,32,0,0">
                    <Grid>
                        <views:ChatView x:Name="ChatViewControl" Visibility="Visible"/>
                        <views:MarketplaceView x:Name="MarketplaceViewControl" Visibility="Collapsed"/>
                        <views:ProfileView x:Name="ProfileViewControl" Visibility="Collapsed"/>
                    </Grid>
                </Border>

                <!-- Member List Sidebar -->
                <Border Grid.Column="3" Background="{StaticResource SecondaryDarkBrush}"
                        Margin="0,32,0,0">
                    <views:MemberSidebar x:Name="MemberSidebar"/>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
